# 7.7 무선과 이동성: 상위 계층 프로토콜에의 영향

<br/>

이 장에서는 `링크 계층(페이딩이나 다중 경로, 숨은 터미널 등과 같은 무선 채널의 특성)`과  
`네트워크 계층(네트워크 접속점이 동적으로 바뀌는 이동 사용자의 존재)`에서 무선 네트워크와 유선 네트워크 간에 상당한 차이가 있음을 알았다.

그렇다면 `트랜스포트 계층`과 `애플리케이션 계층`에도 차이가 있을까?

<br/>
<br/>

## 트랜스포트 계층 프로토콜: TCP

어떤 면에서는 무선 링크가 존재하는 네트워크에서 TCP와 UDP가 사용될 수 있다는 생각이 맞을 수도 있다.

그러나 특히 `TCP 트랜스포트 프로토콜`은 유선 네트워크와 무선 네트워크에서 전혀 다른 성능을 보이는 경우가 많으며, 성능 면에서 그 차이가 뚜렷하다.

<br/>
<br/>

TCP는 송신자와 수신자 간의 경로에서 손실되거나 오류가 생긴 세그먼트를 `재전송`한다.

이동 사용자의 경우 아래의 상황 때문에 손실을 겪을 수 있다.

- 네트워크 혼잡 (라우터의 버퍼 오버플로)
- 핸드오프 (이동 노드의 새 네트워크 접속점으로 세그먼트를 재라우팅해주기 위한 지연 때문)

<br/>

어떤 경우든지 간에 TCP의 수신자에서 송신자로 전송되는 ACK는 세그먼트가 성공적으로 수신되었는지 여부만을 알리며,  
세그먼트가 손실된 경우에는 그것이 어떤 이유 때문인지 송신자는 알지 못한다.

어떤 이유든 송신자는 해당 세그먼트를 재전송한다.

<br/>

TCP의 `혼잡 제어 메커니즘`도 이유와는 관계없이, 무조건 **혼잡 윈도를 감소**시키는 것으로 반응한다.

하지만 무선 네트워크에서는 비트 오류가 훨씬 많이 발생하는데,  
**비트 오류나 핸드오프로 인해 손실이 생겼을 경우 TCP 송신자는 혼잡 윈도를 감소(즉, 송신율 감소)시킬 필요가 없다.**

실제로는 패킷이 혼잡을 겪지 않고 종단 간의 경로를 따라 여유 있는 라우터 버퍼를 이용해 제대로 전달되고 있을 수도 있다.

<br/>
<br/>

따라서 1990년대 초중반에 연구자들은 무선 링크의 높은 비트 오류율과 핸드오프로 인해  
무선 환경에서는 **혼잡 제어와 관련된 TCP의 무조건적인 반응**이 문제가 될 수 있음을 알게되었다.

이 문제를 해결하기 위해 다음 세 가지 접근 방법을 사용할 수 있다.

<br/>

> ✅ 지역 복구(local recovery)

비트 오류가 발생했을 때 **오류 발생 지점(e.g., 무선 링크)에서 복구**해주는 것이다.

이런 방법으로는 802.11 ARQ 프로토콜 또는 ARQ와 FEC를 모두 사용하는 방법이 있다.

<br/>

하지만 이 방식에서 TCP 송신자는 세그먼트가 무선 링크를 거쳐서 전달되고 있음을 전혀 알지 못한다는 문제점이 있다.

<br/>

> ✅ TCP 송신자의 무선 링크 인지

지역 복구에서의 문제점을 해결하기 위한 한 가지 대안으로서 **TCP 송신자와 수신자가 무선 링크를 인지하게 해서**  
유선 네트워크에서의 혼잡으로 인한 손실과 무선 링크에서의 오류나 핸드오프로 인한 손실을 구분하게 하는 방법이 있다.

즉, 유선 네트워크에서의 혼잡으로 인한 손실에 대해서만 혼잡 제어를 하는 것이다.

<br/>

> ✅ 연결 분리 방법(split-connection approach)

무선 사용자의 종단 간 연결을 **2개의 트랜스포트 계층 연결**(하나는 무선 사용자와 AP 간에, 다른 하나는 AP와 목적지 종단점 간에 설정)로 분리한다.

따라서 종단 간 연결은 무선 부분과 유선 부분으로 분리된다.

무선 구간의 트랜스포트 프로토콜은 표준 TCP 연결 또는 UDP 위에서 동작하도록 고안된 복구용 프로토콜일 수 있다.

<br/>

이 방법은 셀룰러 네트워크에서 널리 사용되고 있고, 이 방법을 통해 많은 성능 향상이 있었다.

<br/>
<br/>

## 애플리케이션 계층 프로토콜

무선 스펙트럼의 공유 특성으로 인해  
무선 링크(특히 셀룰러 무선 링크)를 통해 동작하는 응용에게 **대역폭은 매우 부족한 자원이다.**

비록 무선 링크 환경이 애플리케이션 계층의 개발에 해결해야 할 어려운 문제를 주기는 하지만,  
무선 링크가 제공하는 이동성 덕분에 다양한 종류의 위치 인식 또는 문맥 인식 애플리케이션이 가능해졌다.

또한 무선 이동 네트워크는 향후 유비쿼터스 컴퓨팅 환경 실현에서 아주 핵심적인 역할을 하게 될 것이다.
